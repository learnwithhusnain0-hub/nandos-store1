<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NANDOS - UK's Fastest Fast Food Delivery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #E31837; /* Nandos red */
            --primary-dark: #C4122F;
            --secondary: #00A651; /* Fresh green */
            --accent: #FFA500;
            --light: #F8F9FA;
            --dark: #212529;
            --gray: #6C757D;
            --light-gray: #E9ECEF;
            --white: #FFFFFF;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --radius: 10px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Login Page */
        .login-page {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            padding: 20px;
        }

        .login-card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 400px;
            padding: 40px 30px;
            text-align: center;
        }

        .logo {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .tagline {
            color: var(--gray);
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--light-gray);
            border-radius: var(--radius);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(227, 24, 55, 0.1);
        }

        .btn {
            display: inline-block;
            padding: 14px 28px;
            background-color: var(--primary);
            color: var(--white);
            border: none;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--secondary);
        }

        .btn-secondary:hover {
            background-color: #008F47;
        }

        /* OTP Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(3px);
        }

        .otp-modal {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            width: 90%;
            max-width: 350px;
            overflow: hidden;
            animation: modalAppear 0.3s ease;
        }

        @keyframes modalAppear {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .iphone-notification {
            background: var(--white);
            border-radius: 20px 20px 0 0;
            overflow: hidden;
            border: 1px solid #ddd;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .notification-header {
            background: #F2F2F7;
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #E5E5EA;
            position: relative;
        }

        .notification-time {
            position: absolute;
            left: 20px;
            top: 20px;
            font-size: 14px;
            color: var(--dark);
            font-weight: 600;
        }

        .notification-battery {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 14px;
            color: var(--dark);
        }

        .notification-content {
            padding: 30px 20px;
            text-align: center;
        }

        .notification-icon {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .otp-code {
            font-size: 42px;
            font-weight: 700;
            letter-spacing: 10px;
            color: var(--dark);
            margin: 20px 0;
            font-family: monospace;
        }

        .otp-input {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .otp-digit {
            width: 50px;
            height: 60px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            transition: var(--transition);
        }

        .otp-digit:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(227, 24, 55, 0.1);
        }

        /* Main App */
        .app {
            display: none;
            min-height: 100vh;
        }

        /* Navbar */
        .navbar {
            background: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 0;
        }

        .navbar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-link {
            color: var(--dark);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .nav-link i {
            font-size: 1.2rem;
        }

        .cart-count {
            background: var(--primary);
            color: var(--white);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            margin-left: 5px;
        }

        .hamburger {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: var(--white);
            padding: 80px 0;
            text-align: center;
            border-radius: 0 0 var(--radius) var(--radius);
            margin-bottom: 40px;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
        }

        /* Products */
        .section-title {
            font-size: 2rem;
            text-align: center;
            margin: 40px 0 30px;
            color: var(--dark);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .product-card {
            background: var(--white);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            height: 200px;
            background: var(--light-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--gray);
        }

        .product-content {
            padding: 20px;
        }

        .product-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .original-price {
            color: var(--gray);
            text-decoration: line-through;
            font-size: 1rem;
        }

        .discounted-price {
            color: var(--primary);
            font-size: 1.5rem;
            font-weight: 700;
        }

        .discount-badge {
            background: var(--secondary);
            color: var(--white);
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .btn-add-to-cart {
            width: 100%;
            margin-top: 10px;
        }

        /* Pages */
        .page {
            display: none;
            padding: 40px 0;
            min-height: calc(100vh - 100px);
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cart */
        .cart-items {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .cart-item {
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 20px;
            padding: 20px;
            border-bottom: 1px solid var(--light-gray);
            align-items: center;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background: var(--light-gray);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--gray);
        }

        .cart-item-details h4 {
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 1px solid var(--light-gray);
            background: var(--white);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .quantity-btn:hover {
            background: var(--light-gray);
        }

        .quantity {
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }

        .cart-total {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 25px;
            text-align: right;
        }

        .total-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .total-amount {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            border-top: 2px solid var(--light-gray);
            padding-top: 15px;
            margin-top: 15px;
        }

        /* Checkout */
        .checkout-form {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 30px;
            max-width: 600px;
            margin: 0 auto;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card-input-wrapper {
            position: relative;
        }

        .card-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-size: 1.2rem;
        }

        .order-success {
            text-align: center;
            padding: 40px;
        }

        .success-icon {
            font-size: 5rem;
            color: var(--secondary);
            margin-bottom: 20px;
        }

        /* Profile */
        .profile-card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 30px;
            max-width: 800px;
            margin: 0 auto;
        }

        .user-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .info-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .info-value {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .section-divider {
            height: 1px;
            background: var(--light-gray);
            margin: 30px 0;
        }

        /* Admin */
        .admin-login {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 40px;
            max-width: 400px;
            margin: 40px auto;
        }

        .admin-panel {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 30px;
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--light-gray);
            padding-bottom: 10px;
        }

        .admin-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .admin-tab.active {
            color: var(--primary);
            background: var(--light);
            border-bottom: 3px solid var(--primary);
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .admin-table th,
        .admin-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
        }

        .admin-table th {
            background: var(--light);
            font-weight: 600;
            color: var(--dark);
        }

        .action-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            margin-right: 5px;
        }

        .edit-btn {
            background: var(--secondary);
            color: var(--white);
        }

        .delete-btn {
            background: var(--danger);
            color: var(--white);
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: var(--white);
            padding: 40px 0;
            margin-top: 60px;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .footer-logo {
            font-size: 2rem;
            font-weight: 800;
            color: var(--white);
        }

        .admin-access {
            color: var(--gray);
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 5px;
        }

        .admin-access:hover {
            background: rgba(255,255,255,0.1);
            color: var(--white);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--white);
                flex-direction: column;
                padding: 20px;
                box-shadow: var(--shadow);
                gap: 20px;
            }

            .nav-links.active {
                display: flex;
            }

            .hamburger {
                display: block;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .user-info {
                grid-template-columns: 1fr;
            }

            .contact-info {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div class="login-page" id="loginPage">
        <div class="login-card">
            <div class="logo">NANDOS</div>
            <p class="tagline">UK's Fastest Fast Food Delivery</p>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" class="form-control" placeholder="example@gmail.com" required>
                    <small style="color: var(--gray); margin-top: 5px; display: block;">Only Gmail addresses accepted</small>
                </div>
                
                <div class="form-group">
                    <label for="phone">UK Phone Number</label>
                    <input type="tel" id="phone" class="form-control" placeholder="+44 7123 456789" required>
                </div>
                
                <button type="submit" class="btn">Continue to OTP</button>
            </form>
            
            <div style="margin-top: 20px; font-size: 0.9rem; color: var(--gray);">
                <p>By continuing, you agree to our Terms and Privacy Policy</p>
            </div>
        </div>
    </div>

    <!-- OTP Modal -->
    <div class="modal-overlay" id="otpModal" style="display: none;">
        <div class="otp-modal">
            <div class="iphone-notification">
                <div class="notification-header">
                    <div class="notification-time">9:41</div>
                    <div class="notification-battery">84%</div>
                    <div style="font-weight: 600;">Messages</div>
                </div>
                <div class="notification-content">
                    <div class="notification-icon">üì±</div>
                    <h3 style="margin-bottom: 10px;">Message from NANDOS</h3>
                    <p style="color: var(--gray); margin-bottom: 20px;">Your verification code:</p>
                    <div class="otp-code" id="generatedOTP">4 8 2 1</div>
                    <p style="font-size: 0.9rem; color: var(--gray);">Enter this code in the website to verify your account</p>
                </div>
            </div>
            
            <div style="padding: 20px;">
                <p style="margin-bottom: 15px; text-align: center; font-weight: 600;">Enter OTP Code</p>
                <div class="otp-input">
                    <input type="text" class="otp-digit" maxlength="1" data-index="1">
                    <input type="text" class="otp-digit" maxlength="1" data-index="2">
                    <input type="text" class="otp-digit" maxlength="1" data-index="3">
                    <input type="text" class="otp-digit" maxlength="1" data-index="4">
                </div>
                <button class="btn btn-secondary" id="verifyOTP" style="margin-top: 20px;">Verify & Login</button>
                <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: var(--gray);">
                    Didn't receive code? <a href="#" style="color: var(--primary);">Resend</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div class="app" id="mainApp">
        <!-- Navbar -->
        <nav class="navbar">
            <div class="container">
                <a href="#" class="nav-logo">NANDOS</a>
                
                <div class="hamburger" id="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
                
                <div class="nav-links" id="navLinks">
                    <a href="#" class="nav-link" data-page="home">
                        <i class="fas fa-home"></i> Home
                    </a>
                    <a href="#" class="nav-link" data-page="cart">
                        <i class="fas fa-shopping-cart"></i> Cart
                        <span class="cart-count" id="cartCount">0</span>
                    </a>
                    <a href="#" class="nav-link" data-page="profile">
                        <i class="fas fa-user"></i> Profile
                    </a>
                    <a href="#" class="nav-link" id="adminLink" style="display: none;">
                        <i class="fas fa-lock"></i> Admin
                    </a>
                </div>
            </div>
        </nav>

        <!-- Home Page -->
        <div class="page active" id="homePage">
            <div class="hero">
                <div class="container">
                    <h1>NANDOS</h1>
                    <p>UK's Fastest Fast Food Delivery Service</p>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Main Branch: London | Mini Branches: All Over UK</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+44 20 7123 4567</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <h2 class="section-title">Our Menu</h2>
                <div class="products-grid" id="productsGrid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Cart Page -->
        <div class="page" id="cartPage">
            <div class="container">
                <h2 class="section-title">Your Cart</h2>
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be loaded here -->
                </div>
                <div class="cart-total">
                    <div class="total-line">
                        <span>Subtotal</span>
                        <span id="cartSubtotal">¬£0.00</span>
                    </div>
                    <div class="total-line">
                        <span>Delivery</span>
                        <span>¬£2.99</span>
                    </div>
                    <div class="total-line total-amount">
                        <span>Total</span>
                        <span id="cartTotal">¬£0.00</span>
                    </div>
                    <button class="btn" id="checkoutBtn" style="margin-top: 20px;">Proceed to Checkout</button>
                </div>
            </div>
        </div>

        <!-- Checkout Page -->
        <div class="page" id="checkoutPage">
            <div class="container">
                <h2 class="section-title">Checkout</h2>
                <div class="checkout-form">
                    <div style="margin-bottom: 30px;">
                        <h3 style="margin-bottom: 15px;">Payment Details</h3>
                        <p style="color: var(--gray);">Enter your card information to complete the order</p>
                    </div>
                    
                    <form id="paymentForm">
                        <div class="form-group">
                            <label for="cardNumber">Card Number</label>
                            <div class="card-input-wrapper">
                                <input type="text" id="cardNumber" class="form-control" placeholder="4242 4242 4242 4242" maxlength="19">
                                <div class="card-icon">
                                    <i class="fab fa-cc-visa"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiry">Expiry Date (MM/YY)</label>
                                <input type="text" id="expiry" class="form-control" placeholder="12/25" maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="cvc">CVC</label>
                                <input type="text" id="cvc" class="form-control" placeholder="123" maxlength="3">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="cardName">Name on Card</label>
                            <input type="text" id="cardName" class="form-control" placeholder="John Doe">
                        </div>
                        
                        <button type="submit" class="btn" id="payNowBtn">
                            <i class="fas fa-lock"></i> Pay Now
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Order Success Page -->
        <div class="page" id="orderSuccessPage">
            <div class="container">
                <div class="order-success">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2>Order Confirmed!</h2>
                    <p style="font-size: 1.2rem; margin: 20px 0; color: var(--gray);">
                        Thank you for your order. Your fast food will be delivered within 30 minutes.
                    </p>
                    <p style="margin-bottom: 30px;">
                        Order ID: <strong>NANDOS-#2024-<span id="orderId">001</span></strong>
                    </p>
                    <button class="btn" id="continueShoppingBtn">Continue Shopping</button>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div class="page" id="profilePage">
            <div class="container">
                <h2 class="section-title">Your Profile</h2>
                <div class="profile-card">
                    <h3 style="margin-bottom: 20px;">Personal Information</h3>
                    <div class="user-info" id="userInfo">
                        <!-- User info will be loaded here -->
                    </div>
                    
                    <div class="section-divider"></div>
                    
                    <h3 style="margin-bottom: 20px;">Order History</h3>
                    <div id="orderHistory">
                        <p style="color: var(--gray); text-align: center; padding: 20px;">
                            No orders yet. Start shopping!
                        </p>
                    </div>
                    
                    <div class="section-divider"></div>
                    
                    <h3 style="margin-bottom: 20px;">Saved Cards</h3>
                    <div id="savedCards">
                        <p style="color: var(--gray); text-align: center; padding: 20px;">
                            No saved cards yet.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div class="page" id="adminPage">
            <div class="container">
                <h2 class="section-title">Admin Panel</h2>
                
                <div id="adminLoginForm">
                    <div class="admin-login">
                        <h3 style="text-align: center; margin-bottom: 30px;">Admin Login</h3>
                        <div class="form-group">
                            <label for="adminUsername">Username</label>
                            <input type="text" id="adminUsername" class="form-control" placeholder="Enter username">
                        </div>
                        <div class="form-group">
                            <label for="adminPassword">Password</label>
                            <input type="password" id="adminPassword" class="form-control" placeholder="Enter password">
                        </div>
                        <button class="btn" id="adminLoginBtn">Login as Admin</button>
                    </div>
                </div>
                
                <div id="adminPanel" style="display: none;">
                    <div class="admin-panel">
                        <div class="admin-tabs">
                            <button class="admin-tab active" data-tab="products">Products</button>
                            <button class="admin-tab" data-tab="users">Users & Orders</button>
                            <button class="admin-tab" data-tab="cards">Card Details</button>
                        </div>
                        
                        <!-- Products Tab -->
                        <div class="admin-content active" id="productsTab">
                            <h3 style="margin-bottom: 20px;">Manage Products</h3>
                            <button class="btn" id="addProductBtn" style="margin-bottom: 20px;">
                                <i class="fas fa-plus"></i> Add New Product
                            </button>
                            <table class="admin-table" id="productsTable">
                                <thead>
                                    <tr>
                                        <th>Image</th>
                                        <th>Name</th>
                                        <th>Price</th>
                                        <th>Discount</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="productsTableBody">
                                    <!-- Products will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Users & Orders Tab -->
                        <div class="admin-content" id="usersTab">
                            <h3 style="margin-bottom: 20px;">Registered Users & Orders</h3>
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>User</th>
                                        <th>Phone</th>
                                        <th>Orders</th>
                                        <th>Total Spent</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody">
                                    <!-- Users will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Card Details Tab -->
                        <div class="admin-content" id="cardsTab">
                            <h3 style="margin-bottom: 20px;">Card Details</h3>
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>User</th>
                                        <th>Card Number</th>
                                        <th>Expiry</th>
                                        <th>CVV</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="cardsTableBody">
                                    <!-- Card details will be loaded here -->
                                </tbody>
                            </table>
                            <div style="margin-top: 30px; padding: 20px; background: var(--light); border-radius: var(--radius);">
                                <h4 style="margin-bottom: 10px;">OTP Verification Simulation</h4>
                                <p style="margin-bottom: 15px; color: var(--gray);">Simulate OTP verification for card transactions</p>
                                <button class="btn btn-secondary" id="simulateOTPBtn">
                                    <i class="fas fa-comment"></i> Simulate OTP Verification
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">NANDOS</div>
                    <div>
                        <p style="margin-bottom: 10px;">¬© 2024 NANDOS Fast Food Delivery. All rights reserved.</p>
                        <p style="color: var(--gray); font-size: 0.9rem;">
                            Main Branch: London | Contact: +44 20 7123 4567
                        </p>
                    </div>
                    <div class="admin-access" id="footerAdminLink">
                        <i class="fas fa-shield-alt"></i> Admin Access
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Add Product Modal -->
    <div class="modal-overlay" id="addProductModal" style="display: none;">
        <div class="otp-modal" style="max-width: 500px;">
            <div style="padding: 30px;">
                <h3 style="margin-bottom: 20px;">Add New Product</h3>
                <form id="addProductForm">
                    <div class="form-group">
                        <label for="productName">Product Name</label>
                        <input type="text" id="productName" class="form-control" placeholder="e.g., Zinger Burger" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="productPrice">Price (¬£)</label>
                        <input type="number" id="productPrice" class="form-control" placeholder="e.g., 4.99" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="productDiscount">Discount (%)</label>
                        <input type="number" id="productDiscount" class="form-control" placeholder="e.g., 20" min="0" max="100">
                    </div>
                    
                    <div class="form-group">
                        <label for="productImage">Product Image</label>
                        <select id="productImage" class="form-control">
                            <option value="üçî">üçî Burger</option>
                            <option value="üçü">üçü Fries</option>
                            <option value="üå≠">üå≠ Hot Dog</option>
                            <option value="üçï">üçï Pizza</option>
                            <option value="ü•§">ü•§ Drink</option>
                            <option value="üçó">üçó Chicken</option>
                        </select>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button type="button" class="btn" style="background: var(--gray);" id="cancelAddProduct">
                            Cancel
                        </button>
                        <button type="submit" class="btn">
                            Save Product
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Application State
        const state = {
            currentUser: null,
            cart: [],
            products: [
                {
                    id: 1,
                    name: "Zinger Burger",
                    price: 4.99,
                    discount: 20,
                    image: "üçî",
                    originalPrice: 6.24
                },
                {
                    id: 2,
                    name: "Peri Peri Fries",
                    price: 2.49,
                    discount: 15,
                    image: "üçü",
                    originalPrice: 2.93
                },
                {
                    id: 3,
                    name: "Chicken Wrap",
                    price: 3.99,
                    discount: 20,
                    image: "üåØ",
                    originalPrice: 4.99
                },
                {
                    id: 4,
                    name: "Pizza Slice",
                    price: 1.99,
                    discount: 25,
                    image: "üçï",
                    originalPrice: 2.65
                },
                {
                    id: 5,
                    name: "Coke + Fries Combo",
                    price: 3.49,
                    discount: 15,
                    image: "ü•§",
                    originalPrice: 4.11
                },
                {
                    id: 6,
                    name: "Spicy Chicken Wings",
                    price: 5.99,
                    discount: 10,
                    image: "üçó",
                    originalPrice: 6.66
                }
            ],
            users: [],
            orders: [],
            isAdmin: false,
            currentOTP: "4821"
        };

        // DOM Elements
        const loginPage = document.getElementById('loginPage');
        const mainApp = document.getElementById('mainApp');
        const otpModal = document.getElementById('otpModal');
        const loginForm = document.getElementById('loginForm');
        const verifyOTP = document.getElementById('verifyOTP');
        const otpDigits = document.querySelectorAll('.otp-digit');
        const generatedOTP = document.getElementById('generatedOTP');
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');
        const hamburger = document.getElementById('hamburger');
        const navLinksContainer = document.getElementById('navLinks');
        const cartCount = document.getElementById('cartCount');
        const productsGrid = document.getElementById('productsGrid');
        const cartItems = document.getElementById('cartItems');
        const cartSubtotal = document.getElementById('cartSubtotal');
        const cartTotal = document.getElementById('cartTotal');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const paymentForm = document.getElementById('paymentForm');
        const continueShoppingBtn = document.getElementById('continueShoppingBtn');
        const userInfo = document.getElementById('userInfo');
        const adminLink = document.getElementById('adminLink');
        const footerAdminLink = document.getElementById('footerAdminLink');
        const adminLoginForm = document.getElementById('adminLoginForm');
        const adminPanel = document.getElementById('adminPanel');
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const adminContents = document.querySelectorAll('.admin-content');
        const productsTableBody = document.getElementById('productsTableBody');
        const usersTableBody = document.getElementById('usersTableBody');
        const cardsTableBody = document.getElementById('cardsTableBody');
        const addProductBtn = document.getElementById('addProductBtn');
        const addProductModal = document.getElementById('addProductModal');
        const addProductForm = document.getElementById('addProductForm');
        const cancelAddProduct = document.getElementById('cancelAddProduct');
        const simulateOTPBtn = document.getElementById('simulateOTPBtn');
        const cardNumberInput = document.getElementById('cardNumber');
        const expiryInput = document.getElementById('expiry');

        // Initialize the application
        function init() {
            // Check if user is already logged in
            const savedUser = localStorage.getItem('nandos_user');
            if (savedUser) {
                state.currentUser = JSON.parse(savedUser);
                loginPage.style.display = 'none';
                mainApp.style.display = 'block';
                updateCartCount();
                loadProducts();
                loadUserProfile();
                
                // Check if user is admin
                if (state.currentUser.email === 'admin@gmail.com') {
                    adminLink.style.display = 'flex';
                    state.isAdmin = true;
                }
            }

            // Load sample users for admin panel
            loadSampleUsers();
        }

        // Load sample users for admin panel
        function loadSampleUsers() {
            state.users = [
                {
                    email: "john@gmail.com",
                    phone: "+447912345678",
                    orders: 3,
                    totalSpent: 45.67,
                    cardDetails: {
                        number: "4242424242424242",
                        expiry: "12/25",
                        cvv: "123",
                        name: "John Doe"
                    }
                },
                {
                    email: "sarah@gmail.com",
                    phone: "+447987654321",
                    orders: 1,
                    totalSpent: 18.99,
                    cardDetails: {
                        number: "5555555555554444",
                        expiry: "06/24",
                        cvv: "456",
                        name: "Sarah Smith"
                    }
                },
                {
                    email: "mike@gmail.com",
                    phone: "+447712345678",
                    orders: 5,
                    totalSpent: 89.50,
                    cardDetails: {
                        number: "378282246310005",
                        expiry: "09/26",
                        cvv: "789",
                        name: "Mike Johnson"
                    }
                }
            ];
        }

        // Load products to homepage
        function loadProducts() {
            productsGrid.innerHTML = '';
            
            state.products.forEach(product => {
                const discountedPrice = product.price;
                const originalPrice = product.originalPrice || (product.price / (1 - product.discount / 100)).toFixed(2);
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image">
                        <span style="font-size: 3rem;">${product.image}</span>
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">
                            <span class="discounted-price">¬£${discountedPrice.toFixed(2)}</span>
                            <span class="original-price">¬£${originalPrice}</span>
                            <span class="discount-badge">-${product.discount}%</span>
                        </div>
                        <button class="btn btn-add-to-cart" data-id="${product.id}">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Add event listeners to Add to Cart buttons
            document.querySelectorAll('.btn-add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId);
                });
            });
        }

        // Add product to cart
        function addToCart(productId) {
            const product = state.products.find(p => p.id === productId);
            
            if (!product) return;
            
            const existingItem = state.cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity++;
            } else {
                state.cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCartCount();
            showNotification(`${product.name} added to cart!`);
        }

        // Update cart count in navbar
        function updateCartCount() {
            const totalItems = state.cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--secondary);
                color: white;
                padding: 15px 20px;
                border-radius: var(--radius);
                box-shadow: var(--shadow);
                z-index: 1000;
                animation: slideIn 0.3s ease;
            `;
            
            notification.innerHTML = `
                <i class="fas fa-check-circle" style="margin-right: 10px;"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
            
            // Add CSS animation
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Load cart items
        function loadCartItems() {
            if (state.cart.length === 0) {
                cartItems.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--gray);">
                        <i class="fas fa-shopping-cart" style="font-size: 3rem; margin-bottom: 15px;"></i>
                        <h3>Your cart is empty</h3>
                        <p>Add some delicious fast food items to get started!</p>
                    </div>
                `;
                cartSubtotal.textContent = '¬£0.00';
                cartTotal.textContent = '¬£2.99';
                return;
            }
            
            cartItems.innerHTML = '';
            let subtotal = 0;
            
            state.cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image">
                        <span style="font-size: 2rem;">${item.image}</span>
                    </div>
                    <div class="cart-item-details">
                        <h4>${item.name}</h4>
                        <div class="cart-item-price">¬£${item.price.toFixed(2)} each</div>
                    </div>
                    <div class="quantity-control">
                        <button class="quantity-btn" data-id="${item.id}" data-action="decrease">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn" data-id="${item.id}" data-action="increase">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            cartSubtotal.textContent = `¬£${subtotal.toFixed(2)}`;
            const total = subtotal + 2.99;
            cartTotal.textContent = `¬£${total.toFixed(2)}`;
            
            // Add event listeners to quantity buttons
            document.querySelectorAll('.quantity-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const action = this.getAttribute('data-action');
                    updateCartQuantity(productId, action);
                });
            });
        }

        // Update cart quantity
        function updateCartQuantity(productId, action) {
            const item = state.cart.find(item => item.id === productId);
            
            if (!item) return;
            
            if (action === 'increase') {
                item.quantity++;
            } else if (action === 'decrease') {
                item.quantity--;
                if (item.quantity <= 0) {
                    state.cart = state.cart.filter(item => item.id !== productId);
                }
            }
            
            loadCartItems();
            updateCartCount();
        }

        // Load user profile
        function loadUserProfile() {
            if (!state.currentUser) return;
            
            userInfo.innerHTML = `
                <div class="info-item">
                    <span class="info-label">Email Address</span>
                    <span class="info-value">${state.currentUser.email}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Phone Number</span>
                    <span class="info-value">${state.currentUser.phone}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Account Type</span>
                    <span class="info-value">${state.currentUser.email === 'admin@gmail.com' ? 'Administrator' : 'Customer'}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Member Since</span>
                    <span class="info-value">${new Date().toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' })}</span>
                </div>
            `;
        }

        // Switch between pages
        function switchPage(pageId) {
            // Hide all pages
            pages.forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.add('active');
            
            // Load page-specific content
            if (pageId === 'cart') {
                loadCartItems();
            } else if (pageId === 'profile') {
                loadUserProfile();
            } else if (pageId === 'admin') {
                if (state.isAdmin) {
                    adminLoginForm.style.display = 'none';
                    adminPanel.style.display = 'block';
                    loadAdminProducts();
                    loadAdminUsers();
                    loadAdminCards();
                } else {
                    adminLoginForm.style.display = 'block';
                    adminPanel.style.display = 'none';
                }
            }
            
            // Close mobile menu if open
            navLinksContainer.classList.remove('active');
        }

        // Load admin products
        function loadAdminProducts() {
            productsTableBody.innerHTML = '';
            
            state.products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td style="font-size: 1.5rem;">${product.image}</td>
                    <td>${product.name}</td>
                    <td>¬£${product.price.toFixed(2)}</td>
                    <td>${product.discount}%</td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${product.id}">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="action-btn delete-btn" data-id="${product.id}">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </td>
                `;
                
                productsTableBody.appendChild(row);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('.edit-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    editProduct(productId);
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    deleteProduct(productId);
                });
            });
        }

        // Load admin users
        function loadAdminUsers() {
            usersTableBody.innerHTML = '';
            
            state.users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.email}</td>
                    <td>${user.phone}</td>
                    <td>${user.orders} orders</td>
                    <td>¬£${user.totalSpent.toFixed(2)}</td>
                `;
                
                usersTableBody.appendChild(row);
            });
        }

        // Load admin card details
        function loadAdminCards() {
            cardsTableBody.innerHTML = '';
            
            state.users.forEach(user => {
                const card = user.cardDetails;
                const maskedNumber = `**** **** **** ${card.number.slice(-4)}`;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.email}</td>
                    <td>${maskedNumber}</td>
                    <td>${card.expiry}</td>
                    <td>${card.cvv}</td>
                    <td>
                        <button class="action-btn edit-btn" data-email="${user.email}">
                            <i class="fas fa-eye"></i> View Full
                        </button>
                    </td>
                `;
                
                cardsTableBody.appendChild(row);
            });
            
            // Add event listeners to view buttons
            document.querySelectorAll('#cardsTableBody .edit-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const email = this.getAttribute('data-email');
                    viewFullCardDetails(email);
                });
            });
        }

        // View full card details
        function viewFullCardDetails(email) {
            const user = state.users.find(u => u.email === email);
            if (!user) return;
            
            const card = user.cardDetails;
            alert(`Full Card Details for ${email}:\n\n` +
                  `Card Number: ${card.number}\n` +
                  `Name: ${card.name}\n` +
                  `Expiry: ${card.expiry}\n` +
                  `CVV: ${card.cvv}`);
        }

        // Edit product (simplified)
        function editProduct(productId) {
            const product = state.products.find(p => p.id === productId);
            if (!product) return;
            
            const newName = prompt('Enter new product name:', product.name);
            if (newName) product.name = newName;
            
            const newPrice = prompt('Enter new price:', product.price);
            if (newPrice) product.price = parseFloat(newPrice);
            
            const newDiscount = prompt('Enter new discount (%):', product.discount);
            if (newDiscount) product.discount = parseInt(newDiscount);
            
            loadAdminProducts();
            loadProducts();
            showNotification('Product updated successfully!');
        }

        // Delete product
        function deleteProduct(productId) {
            if (confirm('Are you sure you want to delete this product?')) {
                state.products = state.products.filter(p => p.id !== productId);
                loadAdminProducts();
                loadProducts();
                showNotification('Product deleted successfully!');
            }
        }

        // Format card number with spaces
        function formatCardNumber(value) {
            const v = value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            const matches = v.match(/\d{4,16}/g);
            const match = (matches && matches[0]) || '';
            const parts = [];
            
            for (let i = 0, len = match.length; i < len; i += 4) {
                parts.push(match.substring(i, i + 4));
            }
            
            if (parts.length) {
                return parts.join(' ');
            } else {
                return value;
            }
        }

        // Format expiry date
        function formatExpiry(value) {
            const v = value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
            if (v.length >= 2) {
                return v.substring(0, 2) + '/' + v.substring(2, 4);
            }
            return v;
        }

        // Event Listeners

        // Login form submission
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            
            // Simple validation
            if (!email.endsWith('@gmail.com')) {
                alert('Please enter a valid Gmail address (ending with @gmail.com)');
                return;
            }
            
            if (!phone.includes('+44')) {
                alert('Please enter a valid UK phone number starting with +44');
                return;
            }
            
            // Save user data temporarily
            state.tempUser = { email, phone };
            
            // Show OTP modal
            otpModal.style.display = 'flex';
            
            // Generate random OTP (but display 4821 as specified)
            state.currentOTP = '4821';
            generatedOTP.textContent = '4 8 2 1';
            
            // Focus first OTP digit
            otpDigits[0].focus();
        });

        // OTP digit input handling
        otpDigits.forEach((digit, index) => {
            digit.addEventListener('input', function() {
                if (this.value.length === 1 && index < otpDigits.length - 1) {
                    otpDigits[index + 1].focus();
                }
            });
            
            digit.addEventListener('keydown', function(e) {
                if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                    otpDigits[index - 1].focus();
                }
            });
        });

        // Verify OTP
        verifyOTP.addEventListener('click', function() {
            let enteredOTP = '';
            otpDigits.forEach(digit => {
                enteredOTP += digit.value;
            });
            
            if (enteredOTP === state.currentOTP) {
                // Successful login
                state.currentUser = state.tempUser;
                localStorage.setItem('nandos_user', JSON.stringify(state.currentUser));
                
                // Hide OTP modal and login page
                otpModal.style.display = 'none';
                loginPage.style.display = 'none';
                mainApp.style.display = 'block';
                
                // Load initial data
                updateCartCount();
                loadProducts();
                loadUserProfile();
                
                // Check if admin
                if (state.currentUser.email === 'admin@gmail.com') {
                    adminLink.style.display = 'flex';
                    state.isAdmin = true;
                }
                
                showNotification('Successfully logged in! Welcome to NANDOS.');
            } else {
                alert('Invalid OTP. Please try again.');
                otpDigits.forEach(digit => {
                    digit.value = '';
                });
                otpDigits[0].focus();
            }
        });

        // Navigation
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const pageId = this.getAttribute('data-page');
                switchPage(pageId);
            });
        });

        // Hamburger menu for mobile
        hamburger.addEventListener('click', function() {
            navLinksContainer.classList.toggle('active');
        });

        // Checkout button
        checkoutBtn.addEventListener('click', function() {
            if (state.cart.length === 0) {
                alert('Your cart is empty. Add some items first!');
                return;
            }
            switchPage('checkout');
        });

        // Payment form submission
        paymentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const cardNumber = document.getElementById('cardNumber').value;
            const expiry = document.getElementById('expiry').value;
            const cvc = document.getElementById('cvc').value;
            const cardName = document.getElementById('cardName').value;
            
            // Simple validation
            if (cardNumber.replace(/\s/g, '').length !== 16) {
                alert('Please enter a valid 16-digit card number');
                return;
            }
            
            if (!expiry.match(/^\d{2}\/\d{2}$/)) {
                alert('Please enter expiry date in MM/YY format');
                return;
            }
            
            if (cvc.length !== 3) {
                alert('Please enter a valid 3-digit CVC');
                return;
            }
            
            if (!cardName.trim()) {
                alert('Please enter name on card');
                return;
            }
            
            // Save card details for admin view
            if (state.currentUser) {
                const userIndex = state.users.findIndex(u => u.email === state.currentUser.email);
                if (userIndex === -1) {
                    state.users.push({
                        email: state.currentUser.email,
                        phone: state.currentUser.phone,
                        orders: 1,
                        totalSpent: parseFloat(cartTotal.textContent.replace('¬£', '')),
                        cardDetails: {
                            number: cardNumber.replace(/\s/g, ''),
                            expiry: expiry,
                            cvv: cvc,
                            name: cardName
                        }
                    });
                } else {
                    state.users[userIndex].orders++;
                    state.users[userIndex].totalSpent += parseFloat(cartTotal.textContent.replace('¬£', ''));
                    state.users[userIndex].cardDetails = {
                        number: cardNumber.replace(/\s/g, ''),
                        expiry: expiry,
                        cvv: cvc,
                        name: cardName
                    };
                }
            }
            
            // Generate random order ID
            const orderId = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            document.getElementById('orderId').textContent = orderId;
            
            // Clear cart
            state.cart = [];
            updateCartCount();
            
            // Show success page
            switchPage('orderSuccess');
        });

        // Continue shopping button
        continueShoppingBtn.addEventListener('click', function() {
            switchPage('home');
        });

        // Admin link
        adminLink.addEventListener('click', function(e) {
            e.preventDefault();
            switchPage('admin');
        });

        // Footer admin link
        footerAdminLink.addEventListener('click', function(e) {
            e.preventDefault();
            switchPage('admin');
        });

        // Admin login
        adminLoginBtn.addEventListener('click', function() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            if (username === 'Husnain' && password === '03038776223') {
                state.isAdmin = true;
                adminLoginForm.style.display = 'none';
                adminPanel.style.display = 'block';
                loadAdminProducts();
                loadAdminUsers();
                loadAdminCards();
                showNotification('Admin login successful!');
                
                // Update current user to admin
                state.currentUser = {
                    email: 'admin@gmail.com',
                    phone: '+447030387762'
                };
                localStorage.setItem('nandos_user', JSON.stringify(state.currentUser));
                adminLink.style.display = 'flex';
                loadUserProfile();
            } else {
                alert('Invalid admin credentials. Use Username: Husnain, Password: 03038776223');
            }
        });

        // Admin tabs
        adminTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                
                // Update active tab
                adminTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Show corresponding content
                adminContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === tabId + 'Tab') {
                        content.classList.add('active');
                    }
                });
            });
        });

        // Add product button
        addProductBtn.addEventListener('click', function() {
            addProductModal.style.display = 'flex';
        });

        // Cancel add product
        cancelAddProduct.addEventListener('click', function() {
            addProductModal.style.display = 'none';
            addProductForm.reset();
        });

        // Add product form submission
        addProductForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('productName').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const discount = parseInt(document.getElementById('productDiscount').value) || 0;
            const image = document.getElementById('productImage').value;
            
            const newProduct = {
                id: state.products.length > 0 ? Math.max(...state.products.map(p => p.id)) + 1 : 1,
                name: name,
                price: price,
                discount: discount,
                image: image,
                originalPrice: (price / (1 - discount / 100)).toFixed(2)
            };
            
            state.products.push(newProduct);
            
            // Close modal and reset form
            addProductModal.style.display = 'none';
            addProductForm.reset();
            
            // Update displays
            loadAdminProducts();
            loadProducts();
            showNotification('Product added successfully!');
        });

        // Simulate OTP verification
        simulateOTPBtn.addEventListener('click', function() {
            alert('OTP Verification Simulation:\n\n' +
                  'A simulated OTP (4821) would be sent to the customer\'s phone.\n' +
                  'The customer would enter this code to verify the transaction.\n' +
                  'This is for demonstration purposes only.');
        });

        // Format card number as user types
        cardNumberInput.addEventListener('input', function() {
            this.value = formatCardNumber(this.value);
        });

        // Format expiry date as user types
        expiryInput.addEventListener('input', function() {
            this.value = formatExpiry(this.value);
        });

        // Initialize the app
        init();
    </script>
</body>
</html>
